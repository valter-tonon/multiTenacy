var e=require("@inertiajs/inertia"),r=require("react");function n(){return(n=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var o=r.createContext();function t(t){var a=t.children,i=t.initialPage,s=t.resolveComponent,c=t.resolveErrors,l=t.transformProps,u=r.useState({component:null,page:{},key:null}),p=u[0],v=u[1];if(r.useEffect(function(){e.Inertia.init({initialPage:i,resolveComponent:s,resolveErrors:c,transformProps:l,swapComponent:function(e){var r=e.component,n=e.page,o=e.preserveState;try{return v(function(e){return{component:r,page:n,key:o?e.key:Date.now()}}),Promise.resolve()}catch(e){return Promise.reject(e)}}})},[i,s,c,l]),!p.component)return r.createElement(o.Provider,{value:p.page},null);var d=a||function(e){var o=e.Component,t=r.createElement(o,n({key:e.key},e.props));return"function"==typeof o.layout?o.layout(t):Array.isArray(o.layout)?o.layout.concat(t).reverse().reduce(function(e,n){return r.createElement(n,{children:e})}):t};return r.createElement(o.Provider,{value:p.page},d({Component:p.component,key:p.key,props:p.page.props}))}o.displayName="InertiaPageContext",t.displayName="Inertia";var a=function(){},i=r.forwardRef(function(o,t){var i=o.children,s=o.as,c=void 0===s?"a":s,l=o.data,u=void 0===l?{}:l,p=o.href,v=o.method,d=void 0===v?"get":v,f=o.preserveScroll,m=void 0!==f&&f,h=o.preserveState,y=void 0===h?null:h,g=o.replace,k=void 0!==g&&g,C=o.only,P=void 0===C?[]:C,S=o.headers,b=void 0===S?{}:S,E=o.onClick,w=void 0===E?a:E,x=o.onCancelToken,I=void 0===x?a:x,T=o.onBefore,L=void 0===T?a:T,O=o.onStart,j=void 0===O?a:O,A=o.onProgress,R=void 0===A?a:A,D=o.onFinish,F=void 0===D?a:D,B=o.onCancel,N=void 0===B?a:B,U=o.onSuccess,q=void 0===U?a:U,H=o.onError,Q=void 0===H?a:H,W=function(e,r){if(null==e)return{};var n,o,t={},a=Object.keys(e);for(o=0;o<a.length;o++)r.indexOf(n=a[o])>=0||(t[n]=e[n]);return t}(o,["children","as","data","href","method","preserveScroll","preserveState","replace","only","headers","onClick","onCancelToken","onBefore","onStart","onProgress","onFinish","onCancel","onSuccess","onError"]),z=r.useCallback(function(r){w(r),e.shouldIntercept(r)&&(r.preventDefault(),e.Inertia.visit(p,{data:u,method:d,preserveScroll:m,preserveState:null!=y?y:"get"!==d,replace:k,only:P,headers:b,onCancelToken:I,onBefore:L,onStart:j,onProgress:R,onFinish:F,onCancel:N,onSuccess:q,onError:Q}))},[u,p,d,m,y,k,P,b,w,I,L,j,R,F,N,q,Q]);c=c.toLowerCase(),d=d.toLowerCase();var G=e.mergeDataIntoQueryString(d,e.hrefToUrl(p),u);return p=G[0].href,u=G[1],"a"===c&&"get"!==d&&console.warn('Creating POST/PUT/PATCH/DELETE <a> links is discouraged as it causes "Open Link in New Tab/Window" accessibility issues.\n\nPlease specify a more appropriate element using the "as" attribute. For example:\n\n<InertiaLink href="'+p+'" method="'+d+'" as="button">...</InertiaLink>'),r.createElement(c,n({},W,"a"===c?{href:p}:{},{ref:t,onClick:z}),i)});function s(n,o){var t=r.useState(function(){var r=e.Inertia.restore(o);return void 0!==r?r:n}),a=t[0],i=t[1];return r.useEffect(function(){e.Inertia.remember(a,o)},[a,o]),[a,i]}exports.App=t,exports.InertiaApp=t,exports.InertiaLink=i,exports.Link=i,exports.app=t,exports.link=i,exports.usePage=function(){var e=r.useContext(o);if(!e)throw new Error("usePage must be used within the Inertia component");return e},exports.useRemember=s,exports.useRememberedState=function(e,r){return console.warn('The "useRememberedState" hook has been deprecated and will be removed in a future release. Use "useRemember" instead.'),s(e,r)};
//# sourceMappingURL=index.js.map
